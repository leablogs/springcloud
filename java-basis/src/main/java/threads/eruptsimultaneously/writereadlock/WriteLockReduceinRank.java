package threads.eruptsimultaneously.writereadlock;import java.util.concurrent.locks.Lock;import java.util.concurrent.locks.ReentrantReadWriteLock;import static java.util.concurrent.locks.ReentrantReadWriteLock.*;/** * 写锁降级 * 写锁降级 */public class WriteLockReduceinRank {    ReentrantReadWriteLock reentrantReadWriteLock = new ReentrantReadWriteLock();    Lock readLock = reentrantReadWriteLock.readLock();    Lock writeLock = reentrantReadWriteLock.writeLock();    public void processData() {        readLock.lock();        if (true) {            readLock.unlock();            try {                writeLock.lock();                if (true) {                }                readLock.lock();            } finally {                writeLock.unlock();            }        }    }}